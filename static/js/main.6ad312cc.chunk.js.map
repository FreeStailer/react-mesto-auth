{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","images/header__logo_big.svg","components/Header.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DelCardPopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/nice.svg","images/error.svg","components/InfoTooltip.js","utils/auth.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","src","link","alt","text","onClick","onCardClick","type","onDeleteCard","name","onCardLike","length","Header","curentUser","logo","email","to","Main","onLogout","console","log","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","ImagePopup","isOpen","onClose","useEffect","handleEscapeClose","event","key","handleOverlayClose","target","classList","contains","document","addEventListener","removeEventListener","api","options","this","_headers","headers","_baseUrl","baseUrl","url","method","body","fetch","then","res","ok","json","Promise","reject","status","_fetch","values","JSON","stringify","place","cardId","takeCardLike","removeCardLike","authorization","PopupWithForm","id","popupId","title","formId","onSubmit","noValidate","children","buttonText","EditProfilePopup","setName","setDescription","useState","description","e","preventDefault","setLoadingStatus","onUpdateUser","isLoading","htmlFor","onChange","value","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setPlace","setLink","onAddCard","DelCardPopup","ProtectedRoute","Component","component","isLoggedIn","Login","setEmail","password","setPassword","onInfoTool","Register","InfoTooltip","isSuccess","nice","error","BASE_URL","Footer","App","setUserData","history","useHistory","getInitialData","setLoggedIn","all","getInitialCards","getUserData","resp","response","setCards","token","localStorage","getItem","Accept","Authorization","auth","data","catch","err","delCard","setDelCard","popupLoading","setPopupLoading","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDelPopupOpen","setIsDelPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","setIsInfoToolOpen","isInfoToolOpen","isRegisterSuccess","setIsRegisterSuccess","loggedIn","Provider","path","registerData","push","loginData","setItem","changeLikeCardStatus","newCard","newCards","c","removeItem","inputText","userData","patchUserData","patchUserAvatar","userCardData","addUserCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6ad312cc.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete ${!isOwn ? 'card__delete_hidden' : ''}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like ${isLiked ? 'card__like_active' : ''}`\r\n    );\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onDeleteCard(props.card)\r\n    }\r\n//удалил кей и добавил ...забыл как называется...когда в процессе удадения или создания тексты кнопок\r\n    return (\r\n            <li className=\"card\">\r\n                <img className=\"card__photo\" \r\n                    src={props.card.link} \r\n                    alt={props.card.text} \r\n                    onClick={() => {\r\n                        props.onCardClick(props.card);\r\n                    }} />\r\n                <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\r\n                <div className=\"card__text\">\r\n                    <h2 className=\"card__title\">{props.card.name}</h2>\r\n                    <div className=\"card__like-container\">\r\n                        <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                        <p className=\"card__like-data\">{props.card.likes.length}</p>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n    );\r\n  }\r\n  \r\nexport default Card;","export default __webpack_public_path__ + \"static/media/header__logo_big.ff16f24b.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport logo from '../images/header__logo_big.svg';\r\n\r\nfunction Header(props) {\r\n\r\n  const curentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Картинка логотипа Место\" />\r\n        <div className=\"header__data\">\r\n          <p className=\"header__email\">{curentUser.email}</p>\r\n          <Link className=\"header__link\" to={props.link} onClick={props.onClick}>{props.text}</Link>\r\n        </div>\r\n        </header>\r\n    );\r\n  }\r\n  \r\nexport default Header; ","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport Header from './Header.js';\r\n\r\nfunction Main(props) {\r\n\r\n    const curentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <>\r\n        <Header link={'sign-in'} text={'Выход'} onClick={props.onLogout} />\r\n        {console.log(props.onLogout)}\r\n        <main className=\"main\">\r\n              <section className=\"profile\">\r\n                  <div className=\"profile__card\">\r\n                      <div className=\"profile__avatar\" style={{ backgroundImage: `url(${curentUser.avatar})` }}>\r\n                          <button className=\"profile__avatar profile__avatar-edit-button\" type=\"button\" onClick={props.onEditAvatar}></button>\r\n                      </div>\r\n                      <div className=\"profile__info\">\r\n                          <h1 className=\"profile__name\">{curentUser.name}</h1>\r\n                          <button type=\"button\" className=\"profile__button-edit\" onClick={props.onEditProfile}></button>\r\n                          <p className=\"profile__comment\">{curentUser.about}</p>\r\n                      </div>\r\n                  </div>\r\n                  <button type=\"button\" className=\"profile__button-add\" onClick={props.onAddPlace}></button>\r\n              </section>\r\n              <section>\r\n                  <ul className=\"cards\">\r\n                    {props.cards.map((card) => (\r\n                        <Card card={card} key={card._id} onCardClick={props.onCardClick} onDeleteCard={props.onDeleteCard} onCardLike={props.onCardLike} />\r\n                    ))}\r\n                  </ul>\r\n              </section>\r\n          </main>\r\n          </>\r\n    );\r\n  }\r\n  \r\nexport default Main;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n    const {isOpen, onClose} = props;\r\n    React.useEffect(() => {\r\n      if (!isOpen) return;\r\n      const handleEscapeClose = (event) => {\r\n        if (event.key === 'Escape') {\r\n          onClose();\r\n        }\r\n      };\r\n      const handleOverlayClose = (event) => {\r\n        if (event.target.classList.contains('modal') || event.target.classList.contains('modal__button-close')) {\r\n            onClose();\r\n            }\r\n      }\r\n      document.addEventListener(\"keydown\", handleEscapeClose);\r\n      document.addEventListener(\"mousedown\", handleOverlayClose);\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscapeClose);\r\n        document.removeEventListener(\"mousedown\", handleOverlayClose);\r\n      };\r\n    }, [isOpen, onClose]);\r\n\r\n    return (\r\n        <div className={`modal modal_viewer ${props.isOpen ? \"modal_open\" : \"\"}`}>\r\n            <div className=\"modal__content modal__content_viewer\">\r\n                <button type=\"button\" className=\"modal__button-close\" onClick={props.onClose}></button>\r\n                <img src={props.card != null ? props.card.link : ''} className=\"modal__photo\" alt={props.card.name} />\r\n                <h2 className=\"modal__title\">{props.card != null ? props.card.name : ''}</h2>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n  export default ImagePopup;","export class Api {\r\n    constructor(options) {\r\n        this._headers = options.headers;\r\n        this._baseUrl = options.baseUrl;\r\n    }\r\n\r\n    _fetch(url, method, body) {\r\n        return fetch(this._baseUrl + url, {\r\n            method: method,\r\n            headers: this._headers,\r\n            body: body\r\n        })\r\n        .then(res => {\r\n            if(res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибочка вышла: ${res.status}`);\r\n        });\r\n    }\r\n\r\n    //далее идут методы которые подставляюся в выше написанный метод\r\n    //получить список карточек\r\n    getInitialCards() {\r\n        return this._fetch('/cards', 'GET')\r\n    }\r\n\r\n    //добавить карточку\r\n    addUserCard(values) {\r\n        return this._fetch('/cards', 'POST', JSON.stringify({\r\n            name: values.place,\r\n            link: values.link\r\n        }))\r\n    }\r\n\r\n    //поставить лайк\r\n    takeCardLike(cardId) {\r\n        return this._fetch(`/cards/likes/${cardId}`, 'PUT')\r\n    }\r\n\r\n    //удалить лайк\r\n    removeCardLike(cardId) {\r\n        return this._fetch(`/cards/likes/${cardId}`, 'DELETE')\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if(isLiked) {\r\n            return this.takeCardLike(cardId)\r\n        } else {\r\n            return this.removeCardLike(cardId)\r\n        }\r\n    }\r\n\r\n    //удалить карточку\r\n    delCard(cardId) {\r\n        return this._fetch(`/cards/${cardId}`, 'DELETE')\r\n    }\r\n\r\n    //получить имя и професию с сервака\r\n    getUserData() {\r\n        return this._fetch('/users/me', 'GET')\r\n    }\r\n\r\n    //изменить имя и професию на серваке\r\n    patchUserData(values) {\r\n        return this._fetch('/users/me', 'PATCH', JSON.stringify({\r\n            name: values.name,\r\n            about: values.about\r\n        }))\r\n    }\r\n\r\n    // изменить аватарку на серваке\r\n    patchUserAvatar(values) {\r\n        return this._fetch('/users/me/avatar', 'PATCH', JSON.stringify({\r\n            avatar: values.avatar\r\n        }))\r\n    }\r\n}\r\n\r\n//база для поключения к WebAPI и использование класса\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    headers: {\r\n        authorization: '047d2b93-9a25-4779-80e5-3e6df788b9a7',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\n\r\nexport default api","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    const {isOpen, onClose} = props;\r\n    React.useEffect(() => {\r\n      if (!isOpen) return;\r\n      const handleEscapeClose = (event) => {\r\n        if (event.key === 'Escape') {\r\n          onClose();\r\n        }\r\n      };\r\n      const handleOverlayClose = (event) => {\r\n        if (event.target.classList.contains('modal') || event.target.classList.contains('modal__button-close')) {\r\n            onClose();\r\n            }\r\n      }\r\n      document.addEventListener(\"keydown\", handleEscapeClose);\r\n      document.addEventListener(\"mousedown\", handleOverlayClose);\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscapeClose);\r\n        document.removeEventListener(\"mousedown\", handleOverlayClose);\r\n      };\r\n    }, [isOpen, onClose]);\r\n\r\n    return (\r\n        <div id={props.popupId} className={`modal modal_profile ${props.isOpen ? \"modal_open\" : \"\"}`}>\r\n            <div className=\"modal__content\">\r\n                <button type=\"button\" className=\"modal__button-close\" onClick={props.onClose}></button>\r\n                <h2 className=\"modal__heading\">{props.title}</h2>\r\n                <form id={props.formId} onSubmit={props.onSubmit} className=\"form\" method=\"GET\" noValidate>\r\n                    <fieldset className=\"form__input\">\r\n                        {props.children}\r\n                        <button type=\"submit\" className=\"form__button\">{props.buttonText}</button>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n  export default PopupWithForm;","import PopupWithForm from './PopupWithForm.js';\r\nimport React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n    \r\n    const curentUser = React.useContext(CurrentUserContext);\r\n    React.useEffect(() => {\r\n        setName(curentUser.name);\r\n        setDescription(curentUser.about);\r\n    }, [curentUser]);\r\n\r\n    const [name, setName] = React.useState(`${curentUser.name}`);\r\n    const [description, setDescription] = React.useState(`${curentUser.about}`);\r\n\r\n    function handleSetName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function handleSetDescription(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.setLoadingStatus(true);\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} buttonText ={props.isLoading ? 'Сохранение...' : 'Изменить'} popupId=\"edit\" title=\"Редактировать профиль\" formId=\"edit-profile\">\r\n                <label htmlFor=\"name\" className=\"form__label\">\r\n                    <input onChange={handleSetName} value={name} placeholder=\"Имя\" type=\"text\" name=\"name\" id=\"name\" className=\"form__item\" required minLength=\"2\" maxLength=\"40\" />\r\n                    <span className=\"form__input-error\" id=\"name-error\" />\r\n                </label>\r\n                <label htmlFor=\"about\" className=\"form__label\">\r\n                    <input onChange={handleSetDescription} value={description} placeholder=\"комментарии\" type=\"text\" id=\"about\" name=\"about\" className=\"form__item\" required minLength=\"2\" maxLength=\"200\" />        \r\n                    <span className=\"form__input-error\" id=\"about-error\" />\r\n                </label>\r\n        </PopupWithForm>\r\n    );\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.setLoadingStatus(true);\r\n        props.onUpdateAvatar({avatar: avatarRef.current.value,});\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} \r\n                       buttonText={props.isLoading ? 'Сохранение...' : 'Сохранить'} popupId=\"avatar-add\" title=\"Обновить аватар\" formId=\"load-avatar\">\r\n            <label htmlFor=\"avatar\" className=\"form__label\">\r\n                <input ref={avatarRef} type=\"url\" id=\"avatar\" name=\"avatar\" className=\"form__item\" placeholder=\"Ссылка на аватар\" required />&nbsp;         \r\n                <span className=\"form__input-error\" id=\"avatar-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [place, setPlace] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n      }\r\n    \r\n      function handlePlaceChange(e) {\r\n        setPlace(e.target.value);\r\n      }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.setLoadingStatus(true);\r\n        props.onAddCard({place: place,\r\n                         link: link\r\n      });\r\n    }\r\n    \r\n    return(\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} buttonText={props.isLoading ? 'Сохранение...' : 'Добавить'} \r\n                       popupId=\"photo-add\" title=\"Новое место\" formId=\"load-cards\">\r\n            <label htmlFor=\"place\" className=\"form__label\">\r\n                <input onChange={handlePlaceChange} type=\"text\" name=\"place\" id=\"place\" className=\"form__item\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" />\r\n                <span className=\"form__input-error\" id=\"place-error\"></span>\r\n            </label>\r\n            <label htmlFor=\"photo\" className=\"form__label\">\r\n                <input onChange={handleLinkChange} type=\"url\" id=\"photo\" name=\"link\" className=\"form__item\" placeholder=\"Ссылка на картинку\" required/>         \r\n                <span className=\"form__input-error\" id=\"link-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction DelCardPopup(props) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.setLoadingStatus(true);\r\n        props.onDeleteCard();\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} buttonText={props.isLoading ? 'Удаление...' : 'Да'} \r\n                       popupId=\"del-popup\" title=\"Вы уверены?\" formId=\"del-popup\">\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default DelCardPopup","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n        <Route>\r\n            {\r\n                () => (props.isLoggedIn ? <><Component {...props}/>{props.children}</> : <Redirect to=\"./sign-in\"/>)\r\n            }\r\n        </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    \r\n    function handleSetEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleSetPassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onInfoTool({\r\n            email,\r\n            password\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"login\">\r\n            <h1 className=\"login__title\">Вход</h1>\r\n            <form className=\"login__form\" onSubmit={handleSubmit} name=\"sign-up\" method=\"GET\" noValidate>\r\n                <input className=\"login__input\" id=\"email\" name=\"email\" type=\"text\" placeholder=\"Email\" \r\n                       minLength=\"2\" maxLength=\"40\" onChange={handleSetEmail} value={email} required />\r\n                <input className=\"login__input\" id=\"password\" name=\"password\" type=\"text\" placeholder=\"Пароль\" \r\n                       minLength=\"2\" maxLength=\"200\" onChange={handleSetPassword} value={password} required />\r\n                <button className=\"login__submit\" type=\"submit\">Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n\r\n    const [email, setEmail] = React.useState('');\r\n    \r\n    function handleSetEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleSetPassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.onInfoTool({\r\n            email,\r\n            password\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"login\">\r\n            <h1 className=\"login__title\">Регистрация</h1>\r\n            <form className=\"login__form\" onSubmit={handleSubmit} name=\"sign-up\" method=\"GET\" noValidate>\r\n                <input className=\"login__input\" id=\"email\" name=\"email\" type=\"text\" placeholder=\"Email\" \r\n                       minLength=\"2\" maxLength=\"40\" onChange={handleSetEmail} value={email} required />\r\n                <input className=\"login__input\" id=\"password\" name=\"password\" type=\"text\" placeholder=\"Пароль\" \r\n                       minLength=\"2\" maxLength=\"200\" onChange={handleSetPassword} value={password} required />\r\n                <button className=\"login__submit\" type=\"submit\">Зарегистрироваться</button>\r\n            </form>\r\n            <Link className=\"login__link\" to=\"sign-in\">Уже зарегистрированы? Войти</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/nice.9d32fbdc.svg\";","export default __webpack_public_path__ + \"static/media/error.22240a45.svg\";","import React from 'react';\r\nimport nice from '../images/nice.svg';\r\nimport error from '../images/error.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n    return (\r\n        <div id={props.popupId} className={`modal modal_profile ${props.isOpen ? \"modal_open\" : \"\"}`}>\r\n            <div className=\"modal__content\">\r\n                <button type=\"button\" className=\"modal__button-close\" onClick={props.onClose}></button>\r\n                \r\n                <div>\r\n                    <div className=\"modal__image-content\">\r\n                        <img className=\"modal__image\" alt={props.isSuccess ? 'Всё хорошо' : 'Ошибка'} src={props.isSuccess ? nice : error} />\r\n                        <h2 className=\"modal__image-title\">{props.isSuccess ? 'Вы успешно зарегистрировались' : 'Что-то поло не так Попробуйте ещё раз.'}</h2>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport function register({ email, password }) {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password}),\r\n    })\r\n    .then((res) => {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка в фунции апи регистрации (ауф.жс): ${res.status}`)\r\n    })\r\n}\r\n\r\nexport const login = ({ email, password }) => fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password}),\r\n    })\r\n    .then((res) => {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка в фунции апи логина (ауф.жс): ${res.status}`)\r\n    })\r\n    .then((data) => {\r\n        console.log(data);\r\n        if(data != null) {\r\n            localStorage.setItem('token', data.token);\r\n        }\r\n        return data;\r\n    })\r\n\r\nexport const tokenValid = (token) => fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n    },\r\n})\r\n    .then((res) => {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка в фунции апи токена (ауф.жс): ${res.status}`);\r\n    })\r\n    .then((res) => res);","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n              <p className=\"footer__copyright\">©2020 Mesto Russia</p>\r\n          </footer>\r\n    );\r\n  }\r\n  \r\nexport default Footer; ","import React from 'react';\nimport { Redirect, Switch, Route, useHistory } from 'react-router-dom';\nimport Main from './Main.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport DelCardPopup from './DelCardPopup.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport Header from './Header.js';\nimport * as auth from '../utils/auth.js';\nimport Footer from './Footer.js';\n\nfunction App() {\n\nconst [currentUser, setUserData] = React.useState({name: '', about: '', avatar: '', email: ''});\n\nconst history = useHistory();\n\nfunction getInitialData(email) {\n    setLoggedIn(true);\n    return Promise.all([api.getInitialCards(), api.getUserData()])\n        .then(([resp, response]) => {\n            setUserData({ ...response, email});\n            setCards(resp)\n        })\n}\n\n//validnost' tokena\nReact.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if(token !== null) {\n        auth.tokenValid(token)\n        .then((res) => {\n            if(res) {\n                getInitialData(res.data.email);\n            } else {\n                setLoggedIn(false)\n            }\n        }).catch((err) => {\n            console.log('Ошибка в эфекте \"валидации\" токена',err);\n        })\n    }\n}, []);\n\nReact.useEffect(() => {\n    api.getUserData()\n    .then((res) =>{\n        setUserData(res)\n    }).catch((err) =>{\n        console.log('Ошибка в эфекте стейта юзера: ', err)\n    })\n}, [])\n\nconst [cards, setCards] = React.useState([]);\nfunction handleCardLike(card) {\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n    }).catch((err) => {\n        console.log(err);\n    });\n}\n\n// React.useEffect(() => {\n//     api.getInitialCards()\n//     .then((res) => {\n//         setCards(res)\n//     }).catch((err) => {\n//         console.log('Ошибка в получении карточек', err)\n//     })\n// }, [])\n\nconst [delCard, setDelCard] = React.useState(null);\n\nfunction handleCardDelete() {\n    api.delCard(delCard._id).then(() => {\n        const newCards = cards.filter((c) => c._id !== delCard._id);\n        setCards(newCards);\n        closeAllPopups()\n    }).catch((err) => {\n        console.log(err);\n    })\n}\n\nfunction handleUpdateUser(userData) {\n    api.patchUserData(userData)\n    .then((res) => {\n        setUserData(res);\n        closeAllPopups()\n    }).catch((err) => {\n        console.log('Ошибка в хандле апдейт юзер', err)\n    })\n}\n\nfunction handleUpdateAvatar(userData) {\n    api.patchUserAvatar(userData)\n    .then((res) => {\n        setUserData(res);\n        closeAllPopups();\n    }).catch((err) => {\n        console.log('Ошибка в хандле апдейт аватарки', err)\n    })\n}\n\nfunction handleAddPlaceSubmit(userCardData) {\n    api.addUserCard(userCardData)\n    .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n    }).catch((err) => {\n        console.log('Ошибка в добавлении карточки на сервер', err)\n    })\n}\n\nconst [popupLoading, setPopupLoading] = React.useState(false);\n\n//из предыдущего спринта:\nconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\nfunction handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n}\n\nconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\nfunction handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n}\n\nconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\nfunction handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n}\n\nconst [isDelPopupOpen, setIsDelPopupOpen] = React.useState(false);\nfunction handleDelClick(card) {\n    setIsDelPopupOpen(true)\n    setDelCard(card)\n}\n\n\nconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\nconst [selectedCard, setSelectedCard] = React.useState({});\nfunction handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n}\n\nfunction closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsImagePopupOpen(false)\n    setIsDelPopupOpen(false)\n    setPopupLoading(false);\n    setIsInfoToolOpen(false);\n}\n\nconst [isInfoToolOpen, setIsInfoToolOpen] = React.useState(false);\n\nconst [isRegisterSuccess, setIsRegisterSuccess] = React.useState(true);\nfunction handleRegister(registerData) {\n    auth.register(registerData)\n    .then((res) => { \n        if (res !== null) {\n            setIsRegisterSuccess(true);\n            setIsInfoToolOpen(true);\n            history.push('/sign-in');\n        }})\n    .catch((err) => {\n        console.log('Ошибка в регистрации handleRegister', err);\n        setIsRegisterSuccess(false);\n        setIsInfoToolOpen(true);\n    })\n}\n\nfunction handleLogin(loginData) {\n    auth.login(loginData)\n    .then((res) => {\n        if(res !== null) {\n            getInitialData(loginData.email)\n            .catch((err) => {\n                console.log('получение емейла handleLogin getInitialdata', err)})\n        }\n    }).catch((err) =>{\n        console.log('handllogin eror', err);\n        setIsRegisterSuccess(false);\n        setIsInfoToolOpen(true);\n    });\n}\n\nconst [loggedIn, setLoggedIn] = React.useState(false);\nfunction handleLogout() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    currentUser.email = null;\n}\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page__content\">\n            <Switch>\n                <Route path={'/sign-up'}>\n                    {loggedIn ? <Redirect to=\"./\" /> : <>\n                                                        <Header link={'sign-in'} text={'Войти'} />\n                                                        <Register onInfoTool={handleRegister}/>\n                                                       </>}\n                </Route>\n\n                <Route path={'/sign-in'}>\n                    {loggedIn ? <Redirect to=\"./\" /> : <>\n                                                        <Header link={'sign-up'} text={'Регистрация'} />\n                                                        <Login onInfoTool={handleLogin}/>\n                                                       </>}\n                </Route>\n\n                <ProtectedRoute component={Main} path={'/'} cards={cards} onCardLike={handleCardLike} onDeleteCard={handleDelClick}\n                                onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} \n                                onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick}\n                                onLogout={handleLogout} isLoggedIn={loggedIn}>\n                \n\n                    <EditProfilePopup inputText={currentUser} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} \n                                    onClose={closeAllPopups} \n                                    isLoading={popupLoading} setLoadingStatus={setPopupLoading} />\n                    \n                    <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                                    isLoading={popupLoading} setLoadingStatus={setPopupLoading} />\n                    \n                    <AddPlacePopup onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} \n                                isLoading={popupLoading} setLoadingStatus={setPopupLoading}/>\n                    \n                    <DelCardPopup onDeleteCard={handleCardDelete} isOpen={isDelPopupOpen} onClose={closeAllPopups} \n                                isLoading={popupLoading} setLoadingStatus={setPopupLoading}/>\n                    \n                    <ImagePopup isOpen={isImagePopupOpen} card={selectedCard} onClose={closeAllPopups}/>\n                </ProtectedRoute>\n            </Switch>\n            <InfoTooltip isSuccess={isRegisterSuccess} isOpen={isInfoToolOpen} onClose={closeAllPopups} />\n            <Footer />\n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport { HashRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals.js';\n\nReactDOM.render(\n  <React.StrictMode>\n      <HashRouter>\n          <App/>\n      </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n\n// import React from 'react';\n// import ReactDOM from 'react-dom';\n// import './index.css';\n// import App from './components/App.js';\n// import { BrowserRouter } from 'react-router-dom';\n// import reportWebVitals from './reportWebVitals.js';\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//       <BrowserRouter>\n//           <App/>\n//       </BrowserRouter>\n//   </React.StrictMode>,\n//   document.getElementById('root'),\n// );\n\n// reportWebVitals();"],"sourceRoot":""}